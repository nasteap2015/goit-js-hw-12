import{a as m,i as l,S as L}from"./assets/vendor-6e0bf343.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=c(e);fetch(e.href,a)}})();let u=0;async function S(){o.hidden=!0,f.hidden=!1,y.innerHTML="";const t=new URLSearchParams({key:"43152818-b9b3fa9adc16b8bb91486a66f",q:d,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:"15",page:s}),r=await m.get(`https://pixabay.com/api/?${t}`);return u=Math.ceil(r.data.totalHits/t.get("per_page")),r.data}async function w(){const t=new URLSearchParams({key:"43152818-b9b3fa9adc16b8bb91486a66f",q:d,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:"15",page:s}),r=await m.get(`https://pixabay.com/api/?${t}`);return s>=u&&(l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",progressBar:!1}),o.hidden=!0),r.data}let p;function h(t){f.hidden=!0,t.hits.length===0?(l.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",backgroundColor:"#ef4040",progressBar:!1,messageColor:"#fafafb",maxWidth:"432px"}),o.hidden=!0):(p=t.hits.flatMap(({webformatURL:r,largeImageURL:c,tags:n,likes:e,views:a,comments:i,downloads:v})=>`<li class="gallery-item"><a class="gallery-link" href="${c}"> <img class="gallery-image" src="${r}" alt="${n}"/> </a>
              <ul class="gallery-item-info-list"><li class="gallery-item-info">Likes<span class="gallery-item-info-value">${e}</span></li><li class="gallery-item-info">Views<span class="gallery-item-info-value">${a}</span></li><li class="gallery-item-info">Comments<span class="gallery-item-info-value">${i}</span></li><li class="gallery-item-info">Downloads<span class="gallery-item-info-value">${v}</span></li></ul></li>`).join(""),y.insertAdjacentHTML("beforeend",p),P.refresh())}const g=document.querySelector("form"),q=document.querySelector("input"),y=document.querySelector(".gallery"),P=new L(".gallery-link",{captionsData:"alt",captionsDelay:250}),f=document.querySelector(".loader");let s=1,d="";const o=document.querySelector(".load-more-btn"),$=document.querySelector(".gallery");o.setAttribute("hidden",!0);f.setAttribute("hidden",!0);g.addEventListener("submit",async t=>{if(t.preventDefault(),s=1,d=q.value,t.target.elements.keyword.value===""){l.error({message:"Please enter key word",position:"topRight",backgroundColor:"#ef4040",progressBar:!1,messageColor:"#fafafb"});return}const r=await S();h(r),b(),g.reset(),s>=u?(l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight",progressBar:!1}),o.hidden=!0):o.hidden=!1,s+=1});o.addEventListener("click",async t=>{t.preventDefault();const r=await w();h(r),b(),s+=1});function b(){const t=$.firstChild.getBoundingClientRect().height;scrollBy({top:t*2,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
