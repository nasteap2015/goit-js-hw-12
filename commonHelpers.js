import{a as m,i as u,S as L}from"./assets/vendor-6e0bf343.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=l(e);fetch(e.href,a)}})();let c=0;async function S(){o.hidden=!0,f.hidden=!1,h.innerHTML="";const t=new URLSearchParams({key:"43152818-b9b3fa9adc16b8bb91486a66f",q:d,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:"15",page:i}),r=await m.get(`https://pixabay.com/api/?${t}`);return c=r.data.totalHits%t.get("per_page"),console.log(c),r.data}async function w(){const t=new URLSearchParams({key:"43152818-b9b3fa9adc16b8bb91486a66f",q:d,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:"15",page:i});if(i>c){u.error({message:"We're sorry, but you've reached the end of search results.",position:"topRight",backgroundColor:"#ef4040",progressBar:!1,messageColor:"#fafafb"}),o.hidden=!0;return}else return(await m.get(`https://pixabay.com/api/?${t}`)).data}let g;function y(t){f.hidden=!0,t.hits.length===0?(u.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",backgroundColor:"#ef4040",progressBar:!1,messageColor:"#fafafb",maxWidth:"432px"}),o.hidden=!0):(g=t.hits.flatMap(({webformatURL:r,largeImageURL:l,tags:n,likes:e,views:a,comments:s,downloads:v})=>`<li class="gallery-item"><a class="gallery-link" href="${l}"> <img class="gallery-image" src="${r}" alt="${n}"/> </a>
              <ul class="gallery-item-info-list"><li class="gallery-item-info">Likes<span class="gallery-item-info-value">${e}</span></li><li class="gallery-item-info">Views<span class="gallery-item-info-value">${a}</span></li><li class="gallery-item-info">Comments<span class="gallery-item-info-value">${s}</span></li><li class="gallery-item-info">Downloads<span class="gallery-item-info-value">${v}</span></li></ul></li>`).join(""),h.insertAdjacentHTML("beforeend",g),C.refresh())}const p=document.querySelector("form"),q=document.querySelector("input"),h=document.querySelector(".gallery"),C=new L(".gallery-link",{captionsData:"alt",captionsDelay:250}),f=document.querySelector(".loader");let i=1,d="";const o=document.querySelector(".load-more-btn"),P=document.querySelector(".gallery");o.setAttribute("hidden",!0);f.setAttribute("hidden",!0);p.addEventListener("submit",async t=>{if(t.preventDefault(),d=q.value,t.target.elements.keyword.value===""){u.error({message:"Please enter key word",position:"topRight",backgroundColor:"#ef4040",progressBar:!1,messageColor:"#fafafb"});return}const r=await S();y(r),b(),i+=1,p.reset(),o.hidden=!1});o.addEventListener("click",async t=>{t.preventDefault();const r=await w();y(r),b(),i+=1});function b(){const t=P.firstChild.getBoundingClientRect().height;scrollBy({top:t*2,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
